<!DOCTYPE>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <!-- fonte de ícones -->
    <link rel="icon" href="./ICON/logo-sicredi-icon-1024.png">
    <link rel="icon_MOVI" href="./ICON/MOVI.svg">
    <link rel="icon_CASD" href="./ICON/CASD.svg">
    <link rel="icon_ASSO" href="./ICON/ASSO.svg">
    <link rel="stylesheet" href="style.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.10/jquery.mask.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.4.1/jspdf.debug.js"
        integrity="sha384-THVO/sM0mFD9h7dfSndI6TS0PgAGavwKvB5hAxRRvc0o9cPLohB0wb/PTA7LdUHs"
        crossorigin="anonymous"></script>

    <title>Prevenção à Fraudes</title>
</head>

<body>
    <div id="consulta">
        <div class="logo">
            <img src="./ICON/LOGO_SICREDI.PNG" alt="logo">
        </div>
        <div class="input-buttons">
            <div class="margin-right">
                <input class="input-pesquisa" SIZE=8 MAXLENGTH=8 placeholder="EC/ MID" id="input-mid" type="text">
            </div>
            <div class="margin-right">
                <input class="input-pesquisa cpfOuCnpj" placeholder="CPF / CNPJ" id="input-cpf-cnpj" type="text">
            </div>
            <div class="buttons margin margin-bottom">
                <button class="button" id="btn-search" onclick="search()">Pesquisar</button>
            </div>
        </div>
    </div>

    <div id="fundo">
        <div style="height: 85px;"></div>
        <div class="bloco margin" id="bloco1">
            <h1><img src="./ICON/CASD.svg" alt="icon_cadastro"
                    style="width: 30px;text-align: center;margin: -5px 0px -7px 0px;">
                Dados Cadastrais
            </h1>
            <form>
                <div id="form_CADASTRO_1">
                    <label id="titulo_CPF_CNPJ">CPF/CNPJ</label>
                    <label id="label_CPF_CNPJ">00.000.000/0001-00</label>
                    <label id="titulo_RAZAO">Razão Social</label>
                    <label id="label_RAZAO">Resultado da consulta</label>
                    <label id="receita"></label>
                    <label id="maps"></label>
                </div>
                <div id="form_CADASTRO_2" style="margin-top: 10px;">
                    <label id="titulo_cnae">CNAE</label>
                    <label id="label_cnae">00.000/00</label>
                    <label id="titulo_atividade">Ramo de Atividade</label>
                    <label id="label_atividade">Resultado da consulta</label>
                </div>
                <div id="form_CADASTRO_3" style="margin-top: 10px;">
                    <label id="titulo_endereco">Endereço</label>
                    <label id="label_endereco">Resultado da consulta</label>
                    <label id="titulo_numero">Número</label>
                    <label id="label_numero">0000</label>
                </div>
                <div id="form_CADASTRO_4" style="margin-top: 10px;">
                    <label id="titulo_CEP">CEP</label>
                    <label id="label_CEP">00.000-000</label>
                </div>
            </form>
        </div>

        <div class="bloco margin" id="bloco2">
            <div class="margin" id="associado">
                <h1><img src="./ICON/ASSO.svg" alt="icon_associado"
                        style="width: 30px;text-align: center;margin: 5px 0px -7px -5px;">
                    Dados do Associado
                </h1>
                <form>
                    <div id="form_marcacao">
                        <input type="checkbox" id="check_fluxo"></input>
                        <label id="titulo_check">Fluxo de Exceção</label>
                        <input type="checkbox" id="check_Antecipação"></input>
                        <label id="titulo_check">Antecipação Automática</label>
                        <input type="checkbox" id="check_Link"></input>
                        <label id="titulo_check">Link de Pagamento</label>

                        <label id="titulo_dt_fiserv">Cred. Fiserv</label>
                        <label id="label_dt_fiserv">00/00/0000</label>
                        <label id="titulo_dt_get">Cred. Getnet</label>
                        <label id="label_dt_get">00/00/0000</label>
                    </div>
                </form>
                <h2>Portal Aceitação</h2>
                <table id="table" class="tabela_adq">
                    <thead>
                        <tr>
                            <th onclick="sortTable1(0)">EC/ MID</th>
                            <th onclick="sortTable1(1)">Status</th>
                            <th onclick="sortTable1(2)">Credenciamento</th>
                            <th onclick="sortTable1(3)">Descredenciamento</th>
                            <th onclick="sortTable1(4)">Atualizado</th>
                            <th onclick="sortTable1(5)">Tecnologia</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>cell1_1</td>
                            <td>cell2_2</td>
                            <td>01/01/2022</td>
                            <td>cell4_1</td>
                            <td>cell1_1</td>
                            <td>cell2_1</td>
                        </tr>
                        <tr>
                            <td>cell1_2</td>
                            <td>cell2_2</td>
                            <td>01/02/2017</td>
                            <td>cell4_1</td>
                            <td>cell1_1</td>
                            <td>cell2_1</td>
                        </tr>
                        <tr>
                            <td>cell1_3</td>
                            <td>cell2_2</td>
                            <td>01/03/2020</td>
                            <td>cell4_1</td>
                            <td>cell1_1</td>
                            <td>cell2_1</td>
                        </tr>
                        <tr>
                            <td>cell1_4</td>
                            <td>cell2_2</td>
                            <td>01/04/2022</td>
                            <td>cell4_1</td>
                            <td>cell1_1</td>
                            <td>cell2_1</td>
                        </tr>
                        <tr>
                            <td>cell1_5</td>
                            <td>cell2_2</td>
                            <td>01/05/2018</td>
                            <td>cell3_3</td>
                            <td>cell1_1</td>
                            <td>cell2_1</td>
                        </tr>
                    </tbody>
                    </tr>
                </table>
                <h2>Relacionamento Sicredi</h2>
                <table id="table" class="tabela_adq">
                    <thead>
                        <tr>
                            <th onclick="sortTable1(0)">Agência</th>
                            <th onclick="sortTable1(1)">N° de Conta</th>
                            <th onclick="sortTable1(2)">Tipo</th>
                            <th onclick="sortTable1(3)">Status</th>
                            <th onclick="sortTable1(4)">Sistema</th>
                            <th onclick="sortTable1(5)">Criado em</th>
                            <th onclick="sortTable1(6)">Fechado em</th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>cell1_1</td>
                            <td>cell2_2</td>
                            <td>01/01/2022</td>
                            <td>cell4_1</td>
                            <td>cell1_1</td>
                            <td>cell2_1</td>
                            <td>cell3_1</td>

                        </tr>
                        <tr>
                            <td>cell1_2</td>
                            <td>cell2_2</td>
                            <td>01/02/2017</td>
                            <td>cell4_1</td>
                            <td>cell1_1</td>
                            <td>cell2_1</td>
                            <td>cell3_1</td>

                        </tr>
                        <tr>
                            <td>cell1_3</td>
                            <td>cell2_2</td>
                            <td>01/03/2020</td>
                            <td>cell4_1</td>
                            <td>cell1_1</td>
                            <td>cell2_1</td>
                            <td>cell3_1</td>

                        </tr>
                        <tr>
                            <td>cell1_4</td>
                            <td>cell2_2</td>
                            <td>01/04/2022</td>
                            <td>cell4_1</td>
                            <td>cell1_1</td>
                            <td>cell2_1</td>
                            <td>cell3_1</td>

                        </tr>
                        <tr>
                            <td>cell1_5</td>
                            <td>cell2_2</td>
                            <td>01/05/2018</td>
                            <td>cell3_3</td>
                            <td>cell1_1</td>
                            <td>cell2_1</td>
                            <td>cell3_1</td>
                        </tr>
                    </tbody>
                    </tr>
                </table>
            </div>
            <div class="bloco margin" style="margin-top: 0;" id="bancaria">
                <h1><img src="./ICON/MOVI.svg" alt="icon_banco"
                        style="width: 30px;text-align: center;margin: 5px 0px -7px -5px;">
                    Movimentação Bancária
                </h1>
                <form id="form_SALDO">
                    <div id="form_saldo_CC" style="margin-top: 10px;">
                        <label id="titulo_saldo_CC">Saldo Conta Corrente</label>
                        <label id="label_saldo_CC">R$ 00.000.00,00</label>
                    </div>
                </form>
                <table id="table1" class="tabela_adq">
                    <thead>
                        <tr>
                            <th onclick="sortTable(0)">Coop.</th>
                            <th onclick="sortTable(1)">Conta</th>
                            <th onclick="sortTable(2)">Data Inclusão</th>
                            <th onclick="sortTable(3)">Data</th>
                            <th onclick="sortTable(4)">Código</th>
                            <th onclick="sortTable(5)">Des_Hist</th>
                            <th onclick="sortTable(6)">Documento</th>
                            <th onclick="sortTable(7)">Valor</th>
                            <th onclick="sortTable(8)">ID_Posto</th>
                            <th onclick="sortTable(9)">ID_Usuário</th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>cell1_1</td>
                            <td>cell2_2</td>
                            <td>01/01/2022</td>
                            <td>cell4_1</td>
                            <td>cell1_1</td>
                            <td>cell2_1</td>
                            <td>cell3_1</td>
                            <td>cell4_1</td>
                            <td>cell3_1</td>
                            <td>cell4_1</td>
                        </tr>
                        <tr>
                            <td>cell1_2</td>
                            <td>cell2_2</td>
                            <td>01/02/2017</td>
                            <td>cell4_1</td>
                            <td>cell1_1</td>
                            <td>cell2_1</td>
                            <td>cell3_1</td>
                            <td>cell4_1</td>
                            <td>cell3_2</td>
                            <td>cell4_1</td>
                        </tr>
                        <tr>
                            <td>cell1_3</td>
                            <td>cell2_2</td>
                            <td>01/03/2020</td>
                            <td>cell4_1</td>
                            <td>cell1_1</td>
                            <td>cell2_1</td>
                            <td>cell3_1</td>
                            <td>cell4_1</td>
                            <td>cell3_3</td>
                            <td>cell4_1</td>
                        </tr>
                        <tr>
                            <td>cell1_4</td>
                            <td>cell2_2</td>
                            <td>01/04/2022</td>
                            <td>cell4_1</td>
                            <td>cell1_1</td>
                            <td>cell2_1</td>
                            <td>cell3_1</td>
                            <td>cell4_1</td>
                            <td>cell3_4</td>
                            <td>cell4_1</td>
                        </tr>
                        <tr>
                            <td>cell1_5</td>
                            <td>cell2_2</td>
                            <td>01/05/2018</td>
                            <td>cell3_3</td>
                            <td>cell1_1</td>
                            <td>cell2_1</td>
                            <td>cell3_1</td>
                            <td>cell4_1</td>
                            <td>cell3_5</td>
                            <td>cell4_1</td>
                        </tr>
                    </tbody>
                    </tr>
                </table>
            </div>
        </div>

        <div class="bloco margin" id="ADQ">
            <h1><img src="./ICON/MOVI.svg" alt="icon_adq"
                    style="width: 30px;text-align: center;margin: -5px 0px -7px 0px;">
                Movimentação Adquirência
            </h1>
            <form id="form_ADQ_DT">
                <div id="form_DT_ADQ" style="margin-top: 10px;">
                    <label id="titulo_DT_install">Data de Instalação</label>
                    <label id="label_DT_install">00/00/0000</label>
                    <label id="titulo_1_transacao">Data Primeira Transação</label>
                    <label id="label_1_transacao">00/00/0000</label>
                    <label id="titulo_ult_transacao">Data Última Transação</label>
                    <label id="label_ult_transacao">00/00/0000</label>
                    <label id="titulo_sem_transacao">Dias Sem Transacionar</label>
                    <label id="label_sem_transacao">000</label>
                </div>
            </form>
            <table id="table" class="tabela_adq">
                <thead>
                    <tr>
                        <th onclick="sortTable1(0)">Coop.</th>
                        <th onclick="sortTable1(1)">Conta</th>
                        <th onclick="sortTable1(2)">Data Inclusão</th>
                        <th onclick="sortTable1(3)">Data</th>
                        <th onclick="sortTable1(4)">Código</th>
                        <th onclick="sortTable1(5)">Des_Hist</th>
                        <th onclick="sortTable1(6)">Documento</th>
                        <th onclick="sortTable1(7)">Valor</th>
                        <th onclick="sortTable1(8)">ID_Posto</th>
                        <th onclick="sortTable1(9)">ID_Usuário</th>

                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>cell1_1</td>
                        <td>cell2_2</td>
                        <td>01/01/2022</td>
                        <td>cell4_1</td>
                        <td>cell1_1</td>
                        <td>cell2_1</td>
                        <td>cell3_1</td>
                        <td>cell4_1</td>
                        <td>cell3_1</td>
                        <td>cell4_1</td>
                    </tr>
                    <tr>
                        <td>cell1_2</td>
                        <td>cell2_2</td>
                        <td>01/02/2017</td>
                        <td>cell4_1</td>
                        <td>cell1_1</td>
                        <td>cell2_1</td>
                        <td>cell3_1</td>
                        <td>cell4_1</td>
                        <td>cell3_2</td>
                        <td>cell4_1</td>
                    </tr>
                    <tr>
                        <td>cell1_3</td>
                        <td>cell2_2</td>
                        <td>01/03/2020</td>
                        <td>cell4_1</td>
                        <td>cell1_1</td>
                        <td>cell2_1</td>
                        <td>cell3_1</td>
                        <td>cell4_1</td>
                        <td>cell3_3</td>
                        <td>cell4_1</td>
                    </tr>
                    <tr>
                        <td>cell1_4</td>
                        <td>cell2_2</td>
                        <td>01/04/2022</td>
                        <td>cell4_1</td>
                        <td>cell1_1</td>
                        <td>cell2_1</td>
                        <td>cell3_1</td>
                        <td>cell4_1</td>
                        <td>cell3_4</td>
                        <td>cell4_1</td>
                    </tr>
                    <tr>
                        <td>cell1_5</td>
                        <td>cell2_2</td>
                        <td>01/05/2018</td>
                        <td>cell3_3</td>
                        <td>cell1_1</td>
                        <td>cell2_1</td>
                        <td>cell3_1</td>
                        <td>cell4_1</td>
                        <td>cell3_5</td>
                        <td>cell4_1</td>
                    </tr>
                </tbody>
                </tr>
            </table>
        </div>
    </div>
    </div>
    <div style="height: 12px; background-color: #F0F0F0;"></div>
    <div id="Rodape">
        <div class="buttons margin margin-bottom">

            <button class="button">Notificação</button>
            <button onclick="gerarPdf()" method="GET" class="button">Salvar

            </button>
        </div>
    </div>
</body>

<script>
    // Geração de PDF
    function gerarPdf() {

        // Instanciar o jsPDF
        var doc = new jsPDF()
        let data = new Date().toLocaleDateString().slice(0, 10);
        let RAZAO = document.getElementById('label_RAZAO').innerText;
        let EC = document.getElementById('label_CPF_CNPJ').innerText;

        doc.save(data + "-" + RAZAO + "-" + EC + ".pdf");
    }

    // Formatação campo CPF/CNPJ
    var options = {
        onKeyPress: function (cpf, ev, el, op) {
            var masks = ['000.000.000-000', '00.000.000/0000-00'];
            $('.cpfOuCnpj').mask((cpf.length > 14) ? masks[1] : masks[0], op);
        }
    }
    $('.cpfOuCnpj').length > 11 ? $('.cpfOuCnpj').mask('00.000.000/0000-00', options) : $('.cpfOuCnpj').mask('000.000.000-00#', options);

    // Ordenação tabelas

    function sortTable(n) {
        var table;
        table = document.getElementById("table");
        var rows, i, x, y, count = 0;
        var switching = true;
        var direction = "ascending";

        while (switching) {
            switching = false;
            var rows = table.rows;

            for (i = 1; i < (rows.length - 1); i++) {
                var Switch = false;

                x = rows[i].getElementsByTagName("TD")[n];
                y = rows[i + 1].getElementsByTagName("TD")[n];

                if (direction == "ascending") {
                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                        Switch = true;
                        break;
                    }
                } else if (direction == "descending") {

                    if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                        Switch = true;
                        break;
                    }
                }
            }
            if (Switch) {
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
                count++;
            } else {
                if (count == 0 && direction == "ascending") {
                    direction = "descending";
                    switching = true;
                }
            }
        }
    }

    function sortTable1(n) {
        var table;
        table = document.getElementById("table1");
        var rows, i, x, y, count = 0;
        var switching = true;
        var direction = "ascending";

        while (switching) {
            switching = false;
            var rows = table.rows;

            for (i = 1; i < (rows.length - 1); i++) {
                var Switch = false;

                x = rows[i].getElementsByTagName("TD")[n];
                y = rows[i + 1].getElementsByTagName("TD")[n];

                if (direction == "ascending") {
                    if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                        Switch = true;
                        break;
                    }
                } else if (direction == "descending") {

                    if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                        Switch = true;
                        break;
                    }
                }
            }
            if (Switch) {
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
                count++;
            } else {
                if (count == 0 && direction == "ascending") {
                    direction = "descending";
                    switching = true;
                }
            }
        }
    }

</script>

</html>